var InstantClick=function(aC,aB){function ap(e){var d=e.indexOf("#");return 0>d?e:e.substr(0,d)}function am(d){for(;d&&"A"!=d.nodeName;){d=d.parentNode}return d}function al(e){var d=aB.protocol+"//"+aB.host;if(!(d=e.target||e.hasAttribute("download")||0!=e.href.indexOf(d+"/")||-1<e.href.indexOf("#")&&ap(e.href)==az)){if(ac){e:{do{if(!e.hasAttribute){break}if(e.hasAttribute("data-no-instant")){break}if(e.hasAttribute("data-instant")){e=!0;break e}}while(e=e.parentNode);e=!1}e=!e}else{e:{do{if(!e.hasAttribute){break}if(e.hasAttribute("data-instant")){break}if(e.hasAttribute("data-no-instant")){e=!0;break e}}while(e=e.parentNode);e=!1}}d=e}return d?!1:!0}function at(k,h,r,l){for(var q=!1,p=0;p<ak[k].length;p++){if("receive"==k){var m=ak[k][p](h,r,l);m&&("body" in m&&(r=m.body),"title" in m&&(l=m.title),q=m)}else{ak[k][p](h,r,l)}}return q}function ab(e,d,k,h){aC.documentElement.replaceChild(d,aC.body);if(k){history.pushState(null,null,k);d=k.indexOf("#");d=-1<d&&aC.getElementById(k.substr(d+1));h=0;if(d){for(;d.offsetParent;){h+=d.offsetTop,d=d.offsetParent}}scrollTo(0,h);az=ap(k)}else{scrollTo(0,h)}aC.title=g&&aC.title==e?e+String.fromCharCode(160):e;aa();aj.done();at("change",!1);e=aC.createEvent("HTMLEvents");e.initEvent("instantclick:newpage",!0,!0);dispatchEvent(e)}function Z(d){af>+new Date-500||(d=am(d.target))&&al(d)&&ao(d.href)}function Y(d){af>+new Date-500||(d=am(d.target))&&al(d)&&(d.addEventListener("mouseout",f),ae?(X=d.href,ay=setTimeout(ao,ae)):ao(d.href))}function c(d){af=+new Date;(d=am(d.target))&&al(d)&&(ai?d.removeEventListener("mousedown",Z):d.removeEventListener("mouseover",Y),ao(d.href))}function b(e){var d=am(e.target);!d||!al(d)||1<e.which||e.metaKey||e.ctrlKey||(e.preventDefault(),s(d.href))}function f(){ay?(clearTimeout(ay),ay=!1):aq&&!ax&&(aw.abort(),ax=aq=!1)}function a(){if(!(4>aw.readyState)&&0!=aw.status){av.ready=+new Date-av.start;if(aw.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var h=aC.implementation.createHTMLDocument("");h.documentElement.innerHTML=aw.responseText.replace(/<noscript[\s\S]+<\/noscript>/gi,"");an=h.title;ar=h.body;var d=at("receive",au,ar,an);d&&("body" in d&&(ar=d.body),"title" in d&&(an=d.title));d=ap(au);aA[d]={body:ar,title:an,scrollY:d in aA?aA[d].scrollY:0};for(var h=h.head.children,d=0,m,k=h.length-1;0<=k;k--){if(m=h[k],m.hasAttribute("data-instant-track")){m=m.getAttribute("href")||m.getAttribute("src")||m.innerHTML;for(var l=ah.length-1;0<=l;l--){ah[l]==m&&d++}}}d!=ah.length&&(ag=!0)}else{ag=!0}ax&&(ax=!1,s(au))}}function aa(h){aC.body.addEventListener("touchstart",c,!0);ai?aC.body.addEventListener("mousedown",Z,!0):aC.body.addEventListener("mouseover",Y,!0);aC.body.addEventListener("click",b,!0);if(!h){h=aC.body.getElementsByTagName("script");var d,m,k,l;i=0;for(j=h.length;i<j;i++){d=h[i],d.hasAttribute("data-no-instant")||(m=aC.createElement("script"),d.src&&(m.src=d.src),d.innerHTML&&(m.innerHTML=d.innerHTML),k=d.parentNode,l=d.nextSibling,k.removeChild(d),k.insertBefore(m,l))}}}function ao(d){!ai&&"display" in av&&100>+new Date-(av.start+av.display)||(ay&&(clearTimeout(ay),ay=!1),d||(d=X),aq&&(d==au||ax))||(aq=!0,ax=!1,au=d,ag=ar=!1,av={start:+new Date},at("fetch"),aw.open("GET",d),aw.send())}function s(d){"display" in av||(av.display=+new Date-av.start);ay||!aq?ay&&au&&au!=d?aB.href=d:(ao(d),aj.start(0,!0),at("wait"),ax=!0):ax?aB.href=d:ag?aB.href=au:ar?(aA[az].scrollY=pageYOffset,ax=aq=!1,ab(an,ar,au)):(aj.start(0,!0),at("wait"),ax=!0)}var ad=navigator.userAgent,g=-1<ad.indexOf(" CriOS/"),o="createTouch" in aC,az,X,ay,af,aA={},aw,au=!1,an=!1,ag=!1,ar=!1,av={},aq=!1,ax=!1,ah=[],ac,ai,ae,ak={fetch:[],receive:[],wait:[],change:[]},aj=function(){function z(h,k){d=h;aC.getElementById(v.id)&&aC.body.removeChild(v);v.style.opacity="1";aC.getElementById(v.id)&&aC.body.removeChild(v);u();k&&setTimeout(y,0);clearTimeout(q);q=setTimeout(x,500)}function y(){d=10;u()}function x(){d+=1+2*Math.random();98<=d?d=98:q=setTimeout(x,500);u()}function u(){t.style[r]="translate("+d+"%)";aC.getElementById(v.id)||aC.body.appendChild(v)}function w(){aC.getElementById(v.id)?(clearTimeout(q),d=100,u(),v.style.opacity="0"):(z(100==d?0:d),setTimeout(w,0))}function p(){v.style.left=pageXOffset+"px";v.style.width=innerWidth+"px";v.style.top=pageYOffset+"px";var e="orientation" in window&&90==Math.abs(orientation);v.style[r]="scaleY("+innerWidth/screen[e?"height":"width"]*2+")"}var v,t,r,d,q;return{init:function(){v=aC.createElement("div");v.id="instantclick";t=aC.createElement("div");t.id="instantclick-bar";t.className="instantclick-bar";v.appendChild(t);var h=["Webkit","Moz","O"];r="transform";if(!(r in t.style)){for(var e=0;3>e;e++){h[e]+"Transform" in t.style&&(r=h[e]+"Transform")}}var k="transition";if(!(k in t.style)){for(e=0;3>e;e++){h[e]+"Transition" in t.style&&(k="-"+h[e].toLowerCase()+"-"+k)}}h=aC.createElement("style");h.innerHTML="#instantclick{position:"+(o?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:2147483647;"+k+":opacity .25s .1s}.instantclick-bar{background:#29d;width:100%;margin-left:-100%;height:2px;"+k+":all .25s}";
aC.head.appendChild(h);o&&(p(),addEventListener("resize",p),addEventListener("scroll",p))},start:z,done:w}}(),n="pushState" in history&&(!ad.match("Android")||ad.match("Chrome/"))&&"file:"!=aB.protocol;return{supported:n,init:function(){if(!az){if(n){for(var e=arguments.length-1;0<=e;e--){var d=arguments[e];!0===d?ac=!0:"mousedown"==d?ai=!0:"number"==typeof d&&(ae=d)}az=ap(aB.href);aA[az]={body:aC.body,title:aC.title,scrollY:pageYOffset};for(var d=aC.head.children,h,e=d.length-1;0<=e;e--){h=d[e],h.hasAttribute("data-instant-track")&&(h=h.getAttribute("href")||h.getAttribute("src")||h.innerHTML,ah.push(h))}aw=new XMLHttpRequest;aw.addEventListener("readystatechange",a);aa(!0);aj.init();at("change",!0);addEventListener("popstate",function(){var k=ap(aB.href);k!=az&&(k in aA?(aA[az].scrollY=pageYOffset,az=k,ab(aA[k].title,aA[k].body,!1,aA[k].scrollY)):aB.href=aB.href)})}else{at("change",!0)}}},on:function(e,d){ak[e].push(d)}}}(document,location);